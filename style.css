:root {
    --fallback-bg-color: #18222d;
    --fallback-text-color: #ffffff;
    --fallback-hint-color: #a9b3be;
    --fallback-button-color: #5288c1;
    --fallback-button-text-color: #ffffff;
    --fallback-secondary-bg-color: #222e3a;
    --main-bg-color: var(--tg-theme-bg-color, var(--fallback-bg-color));
    --main-text-color: var(--tg-theme-text-color, var(--fallback-text-color));
    --main-hint-color: var(--tg-theme-hint-color, var(--fallback-hint-color));
    --main-button-color: var(--tg-theme-button-color, var(--fallback-button-color));
    --main-button-text-color: var(--tg-theme-button-text-color, var(--fallback-button-text-color));
    --main-secondary-bg-color: var(--tg-theme-secondary-bg-color, var(--fallback-secondary-bg-color));
}
body {
    background-color: var(--main-bg-color);
    color: var(--main-text-color);
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
    margin: 0;
    padding: 20px;
}
.container { max-width: 800px; margin: 0 auto; }
header { margin-bottom: 20px; position: relative; }
header h1 { font-size: 28px; margin: 0 0 5px 0; }
header .subtitle { font-size: 16px; color: var(--main-hint-color); margin: 0; }
#refresh-button { position: absolute; top: 0; right: 0; background: none; border: none; font-size: 24px; cursor: pointer; color: var(--main-hint-color); opacity: 0.7; transition: transform 0.3s ease; }
#refresh-button:active { transform: rotate(180deg); }
.tabs-nav { display: flex; flex-wrap: nowrap; gap: 10px; margin-bottom: 20px; overflow-x: auto; padding-bottom: 10px; }
.tab-button { padding: 10px 15px; border: 1px solid var(--main-hint-color); background-color: transparent; color: var(--main-hint-color); border-radius: 20px; cursor: pointer; font-size: 14px; font-weight: 500; white-space: nowrap; transition: all 0.2s ease; }
.tab-button.active { background-color: var(--main-button-color); color: var(--main-button-text-color); border-color: var(--main-button-color); }
.tab-content { display: none; }
.tab-content.active { display: block; }
.metrics, .ai-analysis, .chart-container { background-color: var(--main-secondary-bg-color); border-radius: 12px; padding: 20px; margin-bottom: 20px; }
.metrics h2, .ai-analysis h2, .chart-container h2 { margin-top: 0; font-size: 18px; margin-bottom: 15px; }
.metrics { display: flex; flex-wrap: wrap; gap: 15px; padding: 0; background: none; }
.card { background-color: var(--main-secondary-bg-color); border-radius: 12px; padding: 15px; text-align: center; flex: 1 1 calc(50% - 8px); box-sizing: border-box; }
.card h2 { font-size: 14px; color: var(--main-hint-color); margin-bottom: 8px; }
.card p { margin-bottom: 0; font-size: 22px; font-weight: 600; }
.tabs-nav::-webkit-scrollbar { height: 4px; }
.tabs-nav::-webkit-scrollbar-thumb { background: #3e4f60; border-radius: 2px; }